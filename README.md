# Theme Switch for React + Tailwind CSS v4

–ü–æ—Ç—É–∂–Ω–µ, –ª–µ–≥–∫–µ —Ç–∞ –ø–æ–≤–Ω—ñ—Å—Ç—é —Ç–∏–ø—ñ–∑–æ–≤–∞–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Ç–µ–º–Ω–æ—é —Ç–∞ —Å–≤—ñ—Ç–ª–æ—é —Ç–µ–º–æ—é —É React-–¥–æ–¥–∞—Ç–∫–∞—Ö. –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–µ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ **Tailwind CSS v4**.

–¶–µ —Ä—ñ—à–µ–Ω–Ω—è –∑–∞–±–µ–∑–ø–µ—á—É—î –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é –º—ñ–∂ –≤–∫–ª–∞–¥–∫–∞–º–∏ —Ç–∞ –∑–∞–ø–æ–±—ñ–≥–∞—î "–±–ª–∏–º–∞–Ω–Ω—é" –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ—ó —Ç–µ–º–∏ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ (FOUC).

## ‚ú® –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

* **‚ö° –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ Tailwind CSS v4**: –ü—Ä–∞—Ü—é—î —á–µ—Ä–µ–∑ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—é –∫–ª–∞—Å—ñ–≤ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º `@custom-variant`.
* **üíæ –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—î –≤–∏–±—ñ—Ä –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —É `localStorage`.
* **üñ•Ô∏è –ê–≤—Ç–æ–≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ç–µ–º–∏**: –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ –æ–±—Ä–∞–≤ —Ç–µ–º—É –≤—Ä—É—á–Ω—É, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Å–∏—Å—Ç–µ–º–Ω–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (`prefers-color-scheme`).
* **üöÄ –ë–µ–∑ –º–µ—Ä–µ—Ö—Ç—ñ–Ω–Ω—è (No FOUC)**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `useLayoutEffect` –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è —Ç–µ–º–∏ –¥–æ –≤—ñ–¥–º–∞–ª—å–æ–≤—É–≤–∞–Ω–Ω—è DOM, —â–æ –≥–∞—Ä–∞–Ω—Ç—É—î –∫–æ—Ä–µ–∫—Ç–Ω–∏–π –≤–∏–≥–ª—è–¥ –∑ –ø–µ—Ä—à–æ–≥–æ –∫–∞–¥—Ä—É.
* **üîÑ –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –≤–∫–ª–∞–¥–æ–∫**: –ó–º—ñ–Ω–∞ —Ç–µ–º–∏ –≤ –æ–¥–Ω—ñ–π –≤–∫–ª–∞–¥—Ü—ñ –º–∏—Ç—Ç—î–≤–æ –æ–Ω–æ–≤–ª—é—î –≤—Å—ñ —ñ–Ω—à—ñ –≤—ñ–¥–∫—Ä–∏—Ç—ñ –≤–∫–ª–∞–¥–∫–∏ –≤–∞—à–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É.
* **üåç –£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—ñ—Å—Ç—å**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `globalThis` –¥–ª—è —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ –∑ —Ä—ñ–∑–Ω–∏–º–∏ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞–º–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è JS.
* **üõ°Ô∏è Type-Safe**: –ù–∞–ø–∏—Å–∞–Ω–æ –Ω–∞ TypeScript –∑ –ø–æ–≤–Ω–æ—é —Ç–∏–ø—ñ–∑–∞—Ü—ñ—î—é.

## üöÄ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ö—Ä–æ–∫ 1: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è CSS (Tailwind v4)

–î–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è —Ç–µ–º —É Tailwind v4 **–æ–±–æ–≤'—è–∑–∫–æ–≤–æ** –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∑–Ω–∞—á–∏—Ç–∏ –≤–∞—Ä—ñ–∞–Ω—Ç `dark`. –î–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫–æ–¥ —É –≤–∞—à –≥–æ–ª–æ–≤–Ω–∏–π CSS —Ñ–∞–π–ª (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `index.css` –∞–±–æ `App.css`):

```css
@import "tailwindcss";

/* –û–ë–û–í'–Ø–ó–ö–û–í–û: –ü–µ—Ä–µ–≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –≤–∞—Ä—ñ–∞–Ω—Ç—É dark –¥–ª—è —Ä–æ–±–æ—Ç–∏ —á–µ—Ä–µ–∑ CSS-–∫–ª–∞—Å.
  –¶–µ –¥–æ–∑–≤–æ–ª—è—î Tailwind –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ —Å—Ç–∏–ª—ñ 'dark:', –∫–æ–ª–∏ –Ω–∞ html —î –∫–ª–∞—Å .dark
*/
@custom-variant dark (&:where(.dark, .dark *));

/* –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö –¥–ª—è –∫–æ–ª—å–æ—Ä—ñ–≤ */
:root {
  --background: #ffffff;
  --foreground: #0f172a;
  /* –Ü–Ω—à—ñ –∑–º—ñ–Ω–Ω—ñ —Å–≤—ñ—Ç–ª–æ—ó —Ç–µ–º–∏ */
}

/* –°—Ç–∏–ª—ñ –¥–ª—è —Ç–µ–º–Ω–æ—ó —Ç–µ–º–∏ */
.dark {
  --background: #0f172a;
  --foreground: #ffffff;
  /* –Ü–Ω—à—ñ –∑–º—ñ–Ω–Ω—ñ —Ç–µ–º–Ω–æ—ó —Ç–µ–º–∏ */
}

body {
  background-color: var(--background);
  color: var(--foreground);
  /* –ü–ª–∞–≤–Ω–∏–π –ø–µ—Ä–µ—Ö—ñ–¥ –∫–æ–ª—å–æ—Ä—ñ–≤ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ) */
  transition: background-color 0.3s ease, color 0.3s ease;
}

```

### –ö—Ä–æ–∫ 2: –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

–û–≥–æ—Ä–Ω—ñ—Ç—å –≤–∞—à –∫–æ—Ä–µ–Ω–µ–≤–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ–¥–∞—Ç–∫—É –≤ `ThemeProvider`.

```tsx
// src/main.tsx –∞–±–æ src/App.tsx
import React from 'react';
import ReactDOM from 'react-dom/client';
import { ThemeProvider } from './ThemeProvider';
import App from './App';
import './index.css';

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <ThemeProvider>
      <App />
    </ThemeProvider>
  </React.StrictMode>
);

```

### –ö—Ä–æ–∫ 3: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ö—É–∫ `useTheme`, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω —Ç–µ–º–∏ –∞–±–æ —Ñ—É–Ω–∫—Ü—ñ—é –¥–ª—è —ó—ó –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è.

```tsx
// src/components/ThemeToggle.tsx
import { useTheme } from './hooks';

export const ThemeToggle = () => {
  const { theme, toggleTheme, isDark } = useTheme();

  return (
    <button
      onClick={toggleTheme}
      className="px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-800 text-gray-900 dark:text-gray-100"
      aria-label="Toggle theme"
    >
      {isDark ? 'üåô Dark Mode' : '‚òÄÔ∏è Light Mode'}
    </button>
  );
};

```

## üõ† API Reference

### `useTheme()`

–•—É–∫ –ø–æ–≤–µ—Ä—Ç–∞—î –æ–±'—î–∫—Ç —ñ–∑ –Ω–∞—Å—Ç—É–ø–Ω–∏–º–∏ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—è–º–∏:

| –í–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å | –¢–∏–ø | –û–ø–∏—Å |
| --- | --- | --- |
| `theme` | `'light' | 'dark'` | –ü–æ—Ç–æ—á–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω–æ—ó —Ç–µ–º–∏. |
| `isDark` | `boolean` | –ó—Ä—É—á–Ω–∏–π –ø—Ä–∞–ø–æ—Ä–µ—Ü—å (`true`, —è–∫—â–æ —Ç–µ–º–∞ —Ç–µ–º–Ω–∞). –ö–æ—Ä–∏—Å–Ω–æ –¥–ª—è —É–º–æ–≤–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É. |
| `toggleTheme` | `() => void` | –§—É–Ω–∫—Ü—ñ—è, —â–æ –ø–µ—Ä–µ–º–∏–∫–∞—î —Ç–µ–º—É –Ω–∞ –ø—Ä–æ—Ç–∏–ª–µ–∂–Ω—É. |

> **–ü—Ä–∏–º—ñ—Ç–∫–∞:** –Ø–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ `useTheme` –ø–æ–∑–∞ –º–µ–∂–∞–º–∏ `ThemeProvider`, –±—É–¥–µ –≤–∏–∫–∏–Ω—É—Ç–æ –ø–æ–º–∏–ª–∫—É: *"useTheme must be used within a ThemeProvider"*.

## üí° –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### –ß–æ–º—É `useLayoutEffect`?

–ú–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ `useLayoutEffect` –∑–∞–º—ñ—Å—Ç—å –∑–≤–∏—á–∞–π–Ω–æ–≥–æ `useEffect` –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–ª–∞—Å—ñ–≤ –Ω–∞ –µ–ª–µ–º–µ–Ω—Ç—ñ `<html>`. –¶–µ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –∑–º—ñ–Ω–∞ —Ç–µ–º–∏ –≤—ñ–¥–±—É–¥–µ—Ç—å—Å—è **—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ** –ø–µ—Ä–µ–¥ —Ç–∏–º, —è–∫ –±—Ä–∞—É–∑–µ—Ä –≤—ñ–¥–º–∞–ª—é—î –∫–∞–¥—Ä –Ω–∞ –µ–∫—Ä–∞–Ω—ñ. –¶–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–æ –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –µ—Ñ–µ–∫—Ç—É, –∫–æ–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞ —á–∞—Å—Ç–∫—É —Å–µ–∫—É–Ω–¥–∏ –±–∞—á–∏—Ç—å –±—ñ–ª–∏–π –µ–∫—Ä–∞–Ω –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Ç–µ–º–Ω–æ—ó —Ç–µ–º–∏.

### –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –≤–∫–ª–∞–¥–æ–∫

–ü—Ä–æ–≤–∞–π–¥–µ—Ä –ø—ñ–¥–ø–∏—Å—É—î—Ç—å—Å—è –Ω–∞ –ø–æ–¥—ñ—é `storage` –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ `window` (—á–µ—Ä–µ–∑ `globalThis`). –ö–æ–ª–∏ `localStorage` –∑–º—ñ–Ω—é—î—Ç—å—Å—è –≤ –æ–¥–Ω—ñ–π –≤–∫–ª–∞–¥—Ü—ñ, —ñ–Ω—à—ñ –≤–∫–ª–∞–¥–∫–∏ –ø–µ—Ä–µ—Ö–æ–ø–ª—é—é—Ç—å —Ü—é –ø–æ–¥—ñ—é —ñ –º–∏—Ç—Ç—î–≤–æ –æ–Ω–æ–≤–ª—é—é—Ç—å —Å–≤—ñ–π React-—Å—Ç–∞–Ω, —â–æ–± –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ –Ω–æ–≤—ñ–π —Ç–µ–º—ñ.

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT

```
